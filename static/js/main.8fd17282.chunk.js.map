{"version":3,"sources":["components/total/Total.js","components/history/HistoryItem.js","components/history/History.js","components/operation/Operation.js","App.js","index.js"],"names":["Total","resultExpenses","resultIncome","totalBalance","className","HistoryItem","transaction","delTransaction","add","description","amount","onClick","id","History","transactions","map","item","key","Operation","addTransaction","addDescription","addAmount","type","placeholder","onChange","value","App","state","JSON","parse","localStorage","getItem","Date","toString","parseFloat","push","setState","getTotalBalace","e","target","console","log","getIncome","filter","reduce","acc","getExpenses","this","addStorage","setItem","stringify","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8fd17282.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Total = ({ resultExpenses, resultIncome, totalBalance }) => (\n        <section className=\"total\">\n            <header className=\"total__header\">\n                <h3>Баланс</h3>\n                <p className=\"total__balance\">{totalBalance} ₽</p>\n            </header>\n            <div className=\"total__main\">\n                <div className=\"total__main-item total__income\">\n                    <h4>Доходы</h4>\n                    <p className=\"total__money total__money-income\">\n                      {resultIncome} ₽\n                    </p>\n                </div>\n                <div className=\"total__main-item total__expenses\">\n                    <h4>Расходы</h4>\n                    <p className=\"total__money total__money-expenses\">\n                      {resultExpenses} ₽\n                    </p>\n                </div>\n            </div>\n        </section>\n    );\n\nexport default Total;\n","import React from \"react\";\n\nconst HistoryItem = ({ transaction, delTransaction }) => (\n    <li\n      className={`history__item history__item-${transaction.add ? \n        'plus' :\n        'minus'}`}>\n      {transaction.description}\n      <span className=\"history__money\">{transaction.amount} ₽</span>\n      <button className=\"history__delete\" onClick={() => delTransaction(transaction.id)}>x</button>\n    </li>\n);\n\nexport default HistoryItem;\n\n\n// <li className=\"history__item  history__item-minus\">Отдал долг\n//     <span className=\"history__money\">-10000 ₽</span>\n//     <button className=\"history__delete\">x</button>\n// </li>\n","import React from \"react\";\nimport HistoryItem from \"./HistoryItem\";\n\nconst History = ({ transactions, delTransaction }) => (\n        <section className=\"history\">\n            <h3>История расходов</h3>\n            <ul className=\"history__list\">\n              {transactions.map(item =>\n                <HistoryItem\n                  key={item.id}\n                  transaction={item}\n                  delTransaction={delTransaction}\n                />)}\n            </ul>\n        </section>\n    );\n\nexport default History;\n","import React from \"react\";\n\nconst Operation = ({ addTransaction, addDescription, addAmount, description, amount }) => (\n        <section className=\"operation\">\n            <h3>Новая операция</h3>\n            <form id=\"form\">\n                <label>\n                    <input\n                      type=\"text\"\n                      className=\"operation__fields operation__name\"\n                      placeholder=\"Наименование операции\"\n                      onChange={addDescription}\n                      value={description}\n                    />\n                </label>\n                <label>\n                    <input\n                      type=\"number\"\n                      className=\"operation__fields operation__amount\"\n                      placeholder=\"Введите сумму\"\n                      onChange={addAmount}\n                      value={amount}\n                    />\n                </label>\n                <div className=\"operation__btns\">\n                    <button\n                      onClick={() => addTransaction(false)}\n                      type=\"button\"\n                      className=\"operation__btn operation__btn-subtract\"\n                    >РАСХОД</button>\n                    <button\n                      onClick={() => addTransaction(true)}\n                      type=\"button\"\n                      className=\"operation__btn operation__btn-add\"\n                    >ДОХОД</button>\n                </div>\n\n            </form>\n        </section>\n    );\n\nexport default Operation;\n","import React, {Component} from 'react';\nimport Total from \"./components/total/Total\";\nimport History from \"./components/history/History\";\nimport Operation from \"./components/operation/Operation\";\n\nclass App extends Component {\n\n  state = {\n    transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\n    description: '',\n    amount: '',\n    resultIncome: 0,\n    resultExpenses: 0,\n    totalBalance: 0,\n  }\n\n  componentWillMount() {\n    this.getTotalBalace();\n  }\n\n  componentDidUpdate() {\n    this.addStorage();\n  }\n\n  addTransaction = add => {\n\n    const transactions = [...this.state.transactions]; // копируем стейт, массив\n\n    const transaction = {\n      id: `cmr${(+new Date).toString(16)}`,\n      description: this.state.description,\n      amount: parseFloat(this.state.amount),\n      add\n    }\n\n    transactions.push(transaction);\n\n    this.setState({\n      transactions,\n      description: '',\n      amount: '',\n    }, this.getTotalBalace);\n  }\n\n  addAmount = e => {\n    this.setState({amount: e.target.value})\n    console.log(this.state)\n  }\n\n  addDescription = e => {\n    this.setState({description: e.target.value})\n    console.log(this.state)\n  }\n\n  getIncome = () => this.state.transactions\n    .filter(item => item.add)\n    .reduce((acc, item) => item.amount + acc, 0)\n\n  getExpenses = () => this.state.transactions\n    .filter(item => !item.add)\n    .reduce((acc, item) => item.amount + acc, 0)\n\n  getTotalBalace () {\n    const resultIncome = this.getIncome();\n    const resultExpenses = this.getExpenses();\n\n    const totalBalance = resultIncome - resultExpenses;\n\n    this.setState({\n      resultIncome,\n      resultExpenses,\n      totalBalance\n    })\n  }\n\n  addStorage() {\n    localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions))\n  }\n\n  delTransaction = key => {\n    const transactions = this.state.transactions.filter(item => item.id !== key)\n    this.setState({ transactions }, this.getTotalBalace)\n  }\n\n  render() {\n      return (\n          <>\n              <header>\n                  <h1>Кошелек</h1>\n                  <h2>Калькулятор расходов</h2>\n              </header>\n\n              <main>\n                  <div className=\"container\">\n                      <Total\n                        resultExpenses={this.state.resultExpenses}\n                        resultIncome={this.state.resultIncome}\n                        totalBalance={this.state.totalBalance}\n                      />\n                      <History\n                        transactions={this.state.transactions}\n                        delTransaction={this.delTransaction}\n                      />\n                      <Operation\n                        addTransaction={this.addTransaction}\n                        addAmount={this.addAmount}\n                        addDescription={this.addDescription}\n                        description={this.state.description}\n                        amount={this.state.amount}\n                      />\n                  </div>\n              </main>\n          </>\n      );\n  }\n\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}